# Epic 2 Retrospective: Core Task Management

**Date:** 2026-02-22
**Facilitator:** Bob (Scrum Master)
**Epic:** Epic 2 - Core Task Management
**Status:** Complete (2/2 stories done)

## Team Participants

- Bob (Scrum Master) - Facilitator
- Alice (Product Owner)
- Charlie (Senior Dev)
- Dana (QA Engineer)
- Elena (Junior Dev)
- parth (Project Lead)

## Epic Summary

Epic 2 delivered the core task management capabilities, establishing the data model and UI patterns for the heart of the application.

- **Backend (Story 2.1):** Delivered robust CRUD API with validation, filtering, and sorting. High test coverage (133 tests).
- **Frontend (Story 2.2):** Updated Task Detail UI with adapter pattern, strict mode, and race-condition guards.

### Stories Delivered

| Story | Title | Track | Tests | Review Findings |
|---|---|---|---|---|
| 2.1 | Task Management API â€” CRUD & Business Logic | Backend | 80+ | 9 rounds |
| 2.2 | Task Detail Page with Adapter Pattern | UI - Lovable | 70+ | 20 rounds |

## What Went Well

1. **QA Catches:** Critical race conditions (double-submits on UI) were caught before production, leading to a robust "in-flight guard" pattern.
2. **Backend Stability:** The backend story (2.1) had solid test coverage and fewer review cycles (9 vs 20), proving the CLI AI workflow is maturing.
3. **Strict Mode:** The team successfully migrated the frontend to `strict: true`, preventing a class of null-pointer errors, despite the pain of doing it mid-flight.

## Challenges

1. **Review Churn (20 Rounds):** Story 2.2 suffered from excessive iteration. The root cause was identified as a lack of specific negative test cases in the original prompt and the complexity of integrating Lovable-generated code as a subtree.
2. **Missing Tests:** Tests for edge cases (empty string vs null, race conditions) were defined *during* review rather than *before* implementation.
3. **Velocity Impact:** The high churn rate significantly impacted velocity and morale.

## Key Insights

1. **Prompts need Test Cases:** Lovable prompts must include specific negative test scenarios (e.g., "verify double-click does not submit twice") to prevent regression loops.
2. **Stable Configuration:** Changing project-wide config (like `strict: true`) during a feature story explodes the scope. Config changes must be separate chores.
3. **In-Flight Guards:** Any UI mutation (create, update, delete) requires an explicit loading state to prevent race conditions. This is now a standard pattern.

## Action Items

### Process Improvements

1. **Front-load Test Definitions**
   - **Owner:** Bob (Scrum Master)
   - **Action:** Update `create-story` workflow to include a "Negative Test Scenarios" section in Lovable prompts.
   - **Target:** Epic 3

2. **Standardize In-Flight Guards**
   - **Owner:** Charlie (Senior Dev)
   - **Action:** Establish "In-Flight Guard" pattern as a mandatory requirement for all new UI mutations in Epic 3.
   - **Target:** Epic 3

### Technical Preparation

3. **Verify Config Stability**
   - **Owner:** Charlie (Senior Dev)
   - **Action:** Verify `strict` mode is stable and passing before starting Epic 3 work to avoid moving targets.
   - **Target:** Immediate

4. **Epic 3 Spec Refinement**
   - **Owner:** Alice (Product Owner)
   - **Action:** Add explicit "Atomic Reordering" and "24h Window" test cases to Story 3.1 and 3.2 specs.
   - **Target:** Before Epic 3 Kickoff

## Next Epic Preview: Epic 3 - Task Breakdown & Daily Progress Tracking

### Overview

Epic 3 adds depth to the task model:
- **Story 3.1:** Sub-Task Management API [Backend]
- **Story 3.2:** Daily Update Management API [Backend]
- **Story 3.3:** Sub-Tasks & Daily Updates UI [UI - Lovable]

### Readiness Assessment

- **Backend:** Ready. Patterns from Epic 2 (CRUD) apply directly.
- **Frontend:** **CAUTION**. Story 3.3 is complex (drag-and-drop reordering, inline editing). We MUST apply the "Front-load Test Definitions" action item to avoid another 20-round cycle.
